{% extends 'core/base.html' %}
{% load static %}
{% block title %}Group Members Credentials{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/credentials.css' %}">
<style>
  body {
    font-family: Georgia;
    margin: 0;
    padding: 0;
    background: #ffffff;
  }

  .header, .print-header {
    background-color: rgb(250, 212, 255);
    padding: 1rem;
    width: 100%;
    margin-bottom: 1rem;
    border-radius: 1rem;
  }

  .header-content {
    background-color: beige;
    color: rgb(30, 0, 68);
    border-radius: 1rem;
    border: 1px solid red;
    padding: 1rem;
    text-align: center;
  }

  .header-content h1 {
    font-size: 1.5rem;
    margin: 0.5rem 0;
  }
  .header-content h2 {
    font-size: 1.2rem;
    margin: 0.3rem 0;
  }
  .header-content h4 {
    font-size: 1rem;
    margin: 0.3rem 0;
  }

  .sub-heading {
    text-align: center;
    font-size: 1.3rem;
    margin: 1rem 0;
    color: #1e0044;
  }

  .btn {
    display: block;
    margin: 0 auto 1rem;
    padding: 8px 16px;
    font-size: 0.9rem;
    border: none;
    border-radius: 6px;
    background: #1e0044;
    color: #fff;
    cursor: pointer;
  }
  .btn:hover {
    background: #432099;
  }

  .table-container {
    overflow-x: auto; 
  }

  .team-table {
    width: 100%;
    border-collapse: collapse;
    min-width: 800px; 
  }

  .team-table th, .team-table td {
    border: 1px solid #05001d;
    padding: 8px;
    text-align: left;
    font-size: 0.9rem;
    background-color: #e1d9ff;
    color: rgb(0, 1, 58);
  }

  .team-table th {
    background: #e6e6e6;
  }

  /* RESPONSIVE */
  @media (max-width: 768px) {
    .header-content h1 { font-size: 1.2rem; }
    .header-content h2 { font-size: 1rem; }
    .header-content h4 { font-size: 0.85rem; }

    .sub-heading { font-size: 1rem; }

    .btn {
      font-size: 0.8rem;
      padding: 6px 12px;
    }

    .team-table th, .team-table td {
      font-size: 0.8rem;
      padding: 6px;
    }
  }
</style>
{% endblock %}

{% block content %}
<div class="header">
  <div class="header-content">
    <h1>FEDERAL UNIVERSITY OF TECHNOLOGY, OWERRI</h1>
    <h2>DEPARTMENT OF COMPUTER SCIENCE STUDENTS</h2>
    <h4>CIT 306 WEB DEVELOPMENT PROJECT, GROUP 14</h4>
  </div>
</div>

<h2 class="sub-heading">GROUP MEMBERS CREDENTIALS - CIT306 GP 14</h2>

<!-- Print button -->
<button onclick="printSection('printable-area')" class="btn">Print / Save as PDF</button>

<!-- Printable area -->
<div id="printable-area">
  <div class="print-header">
    <div class="header-content">
      <h1>FEDERAL UNIVERSITY OF TECHNOLOGY, OWERRI</h1>
      <h2>DEPARTMENT OF COMPUTER SCIENCE STUDENTS</h2>
      <h4>CIT 306 WEB DEVELOPMENT PROJECT, GROUP 14</h4>
    </div>
  </div>

  <div class="table-container">
    <table class="team-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Full name</th>
          <th>Matric number</th>
          <th>Department</th>
          <th>Role</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Responsibilities</th>
        </tr>
      </thead>
      <tbody>
        {% for m in members %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ m.full_name }}</td>
          <td>{{ m.matric_number }}</td>
          <td>{{ m.department }}</td>
          <td>{{ m.project_role }}</td>
          <td>{{ m.email }}</td>
          <td>{{ m.phone }}</td>
          <td>{{ m.responsibilities }}</td>
        </tr>
        {% empty %}
        <tr><td colspan="8">No team members added yet.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
<!-- Print script -->
<script>
function printSection(sectionId) {
  var content = document.getElementById(sectionId).innerHTML;
  var printWindow = window.open('', '', 'width=800,height=600');
  printWindow.document.write('<html><head><title>Print</title>');
  printWindow.document.write('<style>table {width:100%; border-collapse: collapse;} table, th, td {border:1px solid #333; padding:8px; text-align:left;} h2 {text-align:center;}</style>');
  printWindow.document.write('</head><body>');
  printWindow.document.write(content);
  printWindow.document.write('</body></html>');
  printWindow.document.close();
  printWindow.print();
}
</script>
{% endblock %}
